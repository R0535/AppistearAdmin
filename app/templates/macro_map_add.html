{%macro render_map(key,coords)%}
<div id="googleMap" class= "map"></div>
<script>
function myMap() {
var text;
window.addEventListener('load', function () {
    text = document.getElementById('inputText');
    text.readOnly = true
})
const myLatLng = { lat: parseFloat("{{coords[0]}}"), lng: parseFloat("{{coords[1]}}") };
function render_position(){
  marker_lat = marker.position.lat()
  marker_lng = marker.position.lng()
  text.value = [marker_lat,marker_lng]
}
console.log(myLatLng)
var mapProp= {
  center:myLatLng,
  zoom:15,
};
var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
var marker = new google.maps.Marker({position:myLatLng,map,draggable:true,title:"AAAAA"});

marker.setMap(map);
marker.addListener('mouseup', render_position);
}
</script>

<script src="https://maps.googleapis.com/maps/api/js?key={{key}}&callback=myMap"></script>
{%endmacro%}
